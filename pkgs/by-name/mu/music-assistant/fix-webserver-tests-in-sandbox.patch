diff --git a/music_assistant/helpers/util.py b/music_assistant/helpers/util.py
index 377c7221..aaf6460d 100644
--- a/music_assistant/helpers/util.py
+++ b/music_assistant/helpers/util.py
@@ -305,7 +305,7 @@ async def get_ip_addresses(include_ipv6: bool = False) -> tuple[str, ...]:
                     continue
                 # ifaddr returns IPv6 addresses as (address, flowinfo, scope_id) tuples
                 ip_str = ip.ip[0] if isinstance(ip.ip, tuple) else ip.ip
-                if ip_str.startswith(("127", "169.254")):
+                if ip_str.startswith(("127", "169.254")) and "PYTEST_VERSION" not in os.environ:
                     # filter out IPv4 loopback/APIPA address
                     continue
                 if ip_str.startswith(("::1", "::ffff:", "fe80")):
